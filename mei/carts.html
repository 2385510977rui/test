<!DOCTYPE html>
<html class="no-js">

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="description" content="">
		<meta name="keywords" content="">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>购物车</title>
		<!-- Set render engine for 360 browser -->
		<meta name="renderer" content="webkit">

		<!-- No Baidu Siteapp-->
		<meta http-equiv="Cache-Control" content="no-siteapp" />

		<!-- Add to homescreen for Chrome on Android -->
		<meta name="mobile-web-app-capable" content="yes">

		<!-- Add to homescreen for Safari on iOS -->
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="apple-mobile-web-app-title" content="Amaze UI" />

		<link rel="stylesheet" type="text/css" href="css/amazeui.min.css" />
		<link rel="stylesheet" type="text/css" href="css/carts.css" />
	</head>

	<body>
		<!--顶部-->
		<div class="am-g am-margin-0 am-padding-sm border-bootom">
			<div class="am-u-sm-3">
				&nbsp;
			</div>
			<div class="am-u-sm-6 am-text-center">
				<h3 class="cart1">编辑购物车</h3>
				<h3 class="cart2">购物车</h3>
			</div>
			<div class="am-u-sm-3 am-text-right fz1">
				<p class="edit1">完成</p>
				<p class="edit2">编辑</p>
			</div>
		</div>
		<div class="carts-tiao"></div>
		<div class="carts">
			<ul>
				<li class="mon">
					<div class="am-g">
						<div class="am-u-sm-1">
							<div class="checked" style="opacity: 1;"></div>
						</div>
						<div class="am-u-sm-3">
							<img src="images/carts1.jpg" />
						</div>
						<div class="am-u-sm-8">
							<p class="fz1">显瘦星星雪纺印花衬衫</p>
							<p class="fz-1">s</p>
							<div class="am-cf">
								<div class="am-fl red">
									￥<span>79</span>
								</div>
								<div class="am-fr">
									<div class="spinner">
										<span class="bord-1">-</span>
										<input type="" name="" id="" value="1" class="num" />
										<span class="bord-2">+</span>
									</div>
									<div class="carts-jian">
										共<span>1</span>件
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="carts-tiao"></div>
				</li>
				<li class="mon">
					<div class="am-g">
						<div class="am-u-sm-1">
							<div class="checked" style="opacity: 1;"></div>
						</div>
						<div class="am-u-sm-3">
							<img src="images/carts2.jpg" />
						</div>
						<div class="am-u-sm-8">
							<p class="fz1">星星雪纺印花板鞋</p>
							<p class="fz-1">39</p>
							<div class="am-cf">
								<div class="am-fl red">
									￥ <span>59</span>
								</div>
								<div class="am-fr">
									<div class="spinner">
										<span class="bord-1">-</span>
										<input type="" name="" id="" value="1" class="num" />
										<span class="bord-2">+</span>
									</div>
									<div class="carts-jian">
										共<span>1</span>件
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="carts-tiao"></div>
				</li>
				<li class="mon">
					<div class="am-g">
						<div class="am-u-sm-1">
							<div class="checked" style="opacity: 1;"></div>
						</div>
						<div class="am-u-sm-3">
							<img src="images/carts1.jpg" />
						</div>
						<div class="am-u-sm-8">
							<p class="fz1">显瘦星星雪纺印花衬衫</p>
							<p class="fz-1">s</p>
							<div class="am-cf">
								<div class="am-fl red">
									￥<span>79</span>
								</div>
								<div class="am-fr">
									<div class="spinner">
										<span class="bord-1">-</span>
										<input type="" name="" id="" value="1" class="num" />
										<span class="bord-2">+</span>
									</div>
									<div class="carts-jian">
										共<span>1</span>件
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="carts-tiao"></div>
				</li>
			</ul>
			<div class="quan am-g">
				<div class="am-u-sm-1">
					<div class="all-checked" style="opacity: 1;"></div>
				</div>
				<div class="am-u-sm-8 am-cf">
					<div class="cart-all1">
						<div class="am-fl fz1 quan-top">
							全选
						</div>
						<div class="am-fr fz1 am-margin-top-sm">
							共<span class="pink quan-jian">0</span>件
						</div>
					</div>
					<div class="cart-all2">
						<div class="am-fl fz1 quan-top">
							全选
						</div>
						<div class="am-fr fz1 zong">
							<p>共<span class="pink piece">0</span>件</p>
							<p>总金额:￥<span class="pink total">0</span></p>
						</div>
					</div>

				</div>
				<div class="am-u-sm-3 am-padding-horizontal-0 am-text-right">
					<div class="btn1">
						<button type="button" class="am-btn am-btn-danger am-radius delete">删除</button>
					</div>
					<div class="btn2">
						<button type="button" id="btn2" class="am-btn am-btn-danger am-radius">去结算</button>
					</div>

				</div>
			</div>
		</div>
		<!--底部导航-->
		<div class="am-g fix fix-bg">
			<ul class="am-avg-sm-4 am-text-center am-margin-horizontal-sm">
				<li>
					<a href="homepage.html">
						<img src="images/daohang1-1.png" width="40%" />
						<p>首页</p>
					</a>
				</li>
				<li>
					<a href="classify.html">
						<img src="images/daohang2.png" width="40%" />
						<p>免税店</p>
					</a>
				</li>
				<li>
					<a href="carts.html">
						<img src="images/daohang3-1.png" width="40%" />
						<p class="pink">购物车</p>
					</a>
				</li>
				<li>
					<a href="my.html">
						<img src="images/daohang4.png" width="40%" />
						<p>我的</p>
					</a>
				</li>

			</ul>
		</div>
	</body>
	<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/amazeui.min.js" type="text/javascript" charset="utf-8"></script>
	<!--<script src="js/jquery.spinner.js" type="text/javascript" charset="utf-8"></script>-->
	<script type="text/javascript">
		$(document).ready(function() {
			//			$('.spinner').spinner();

			//加减
			$('.bord-1').click(function() {
				var x = $(this).parent().find('.num').val();
				if(x > 1) {
					x = --x;
					$(this).parent().find('.num').val(x);
					$(this).parent().siblings('.number').text('x' + x)
					jisuan();
				}
			})
			$('.bord-2').click(function() {
				var x = $(this).parent().find('.num').val();
				x = ++x;
				$(this).parent().find('.num').val(x);
				$(this).parent().siblings('.number').text('x' + x)
				jisuan();
			})

			//check按钮
			$('.checked').click(function() {
				if($(this).hasClass('active')) {
					$(this).removeClass('active');
					$('.all-checked').removeClass('active');
					sumsale();
				} else {
					$(this).addClass('active');
					c();
					sumsale();
				}
			});
			//全选按钮
			$('.all-checked').click(function() {
				if($(this).hasClass('active')) {
					$(this).removeClass('active');
					$('.checked').removeClass('active');
					sumsale();
				} else {
					$(this).addClass('active');
					$('.checked').addClass('active');
					sumsale();
				}
			});
			//判断是否全选来决定全选的状态
			function c() {
				var d = '';
				$('.checked').each(function(i) {
					if($(this).hasClass('active')) {
						d += '1';
					} else {
						d += '2';
					}
					return d;
				});
				if(d.indexOf('2') == -1) {
					$('.all-checked').addClass('active');
				}
			};
			//价格计算
			function sumsale() {
				var tal = 0;
				var num = 0;
				var put = 0;
				$('.checked').each(function() {
					if($(this).hasClass('active')) {
						tal += parseFloat($(this).parents('.mon').find('.red span').text());
						num += parseFloat($(this).parents('.mon').find('.carts-jian span').text());
						put += parseFloat($(this).parents('.mon').find('.spinner input').val());
					} else {

					}
					$('.zong .total').text((tal * num).toFixed(0));
					$('.zong .piece').text(num.toFixed(0));
					$('.quan-jian').text(put.toFixed(0));
				})
			};
			//添加对应数量,完成按钮

			$('.edit1').click(function() {
				$('.mon').each(function() {
					var p = parseFloat($(this).find('.spinner input').val());
					$(this).find('.carts-jian span').text(p);
				})
			});

			//页面转换
			$(".edit2").click(function() {
				$(".edit2").css('display', 'none');
				$(".cart2").css('display', 'none');
				$(".carts-jian").css('display', 'none');
				$(".cart-all2").css('display', 'none');
				$(".btn2").css('display', 'none');
				$(".spinner").css('display', 'block');
				$(".cart1").css('display', 'block');
				$(".edit1").css('display', 'block');
				$(".cart-all1").css('display', 'block');
				$(".btn1").css('display', 'block');
			})
			$(".edit1").click(function() {
				$(".edit1").css('display', 'none');
				$(".cart1").css('display', 'none');
				$(".spinner").css('display', 'none');
				$(".cart-all1").css('display', 'none');
				$(".btn1").css('display', 'none');
				$(".carts-jian").css('display', 'block');
				$(".cart2").css('display', 'block');
				$(".edit2").css('display', 'block');
				$(".cart-all2").css('display', 'block');
				$(".btn2").css('display', 'block');
			})

			//删除
			$('.delete').click(function() {
				var del = $('.active').parents('.mon')
				del.remove();
			})
		})
	</script>
	<script type="text/javascript">
		$(document).ready(function() {
			$('#btn2').click(function() {
				window.location.href = "Settlement.html";
			})
		})
	</script>

</html>